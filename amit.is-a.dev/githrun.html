<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Githrun Documentation</title>
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg" type="image/svg+xml">
    
    <!-- Fonts: Poppins for headings, Fira Code for code -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fira+Code&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <style>
        :root {
            /* Theme Colors */
            --header-bg: #2b3137; /* Dark Charcoal - Distinct from Python Blue */
            --primary-blue: #3775a9; /* Python Blue for accents */
            --accent-yellow: #ffd343;
            --text-main: #24292e;
            --text-light: #586069;
            --code-bg: #f6f8fa;
            --border-color: #e1e4e8;
            --sidebar-width: 280px;
            --header-height: 70px;
            --font-main: 'Poppins', -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            --font-mono: 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            scroll-behavior: smooth;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--primary-blue);
        }

        body {
            font-family: var(--font-main);
            line-height: 1.6;
            color: var(--text-main);
            background-color: #ffffff;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            opacity: 0;
            animation: fadeInPage 0.5s ease-out forwards;
        }

        @keyframes fadeInPage {
            to { opacity: 1; }
        }

        /* --- HEADER --- */
        header {
            background-color: var(--header-bg);
            color: white;
            padding: 0 2rem;
            height: var(--header-height);
            display: flex;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.15);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        /* Logo Area */
        .logo {
            font-size: 1.4rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.8rem;
            color: white;
            text-decoration: none;
            letter-spacing: 0.5px;
        }

        .logo img {
            height: 36px;
            width: auto;
            filter: drop-shadow(0 0 2px rgba(255,255,255,0.2)); 
        }

        /* Header Links (Desktop) */
        .header-links {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .btn {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .btn-github {
            background-color: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.2);
        }
        
        .btn-github:hover {
            background-color: rgba(255,255,255,0.2);
        }

        .btn-pypi {
            background-color: var(--primary-blue);
            color: white;
            border: 1px solid var(--primary-blue);
        }
        
        .btn-pypi:hover {
            background-color: #458ac6;
            box-shadow: 0 4px 12px rgba(55, 117, 169, 0.4);
        }

        /* --- MOBILE MENU ICON (FIXED) --- */
        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 10px 0; 
            margin-right: 20px; 
            flex-shrink: 0;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        .hamburger-box {
            width: 24px;
            height: 24px;
            display: inline-block;
            position: relative;
        }

        .hamburger-inner, .hamburger-inner::before, .hamburger-inner::after {
            width: 24px;
            height: 2px;
            background-color: white;
            border-radius: 4px;
            position: absolute;
            transition: transform 0.15s ease;
        }

        .hamburger-inner {
            display: block; /* CRITICAL FIX: Was missing, causing collapse */
            top: 50%;
            margin-top: -1px;
        }

        .hamburger-inner::before, .hamburger-inner::after {
            content: "";
            display: block; /* CRITICAL FIX */
        }

        .hamburger-inner::before {
            top: -8px;
        }

        .hamburger-inner::after {
            bottom: -8px;
        }

        /* Active State (X Icon) */
        .mobile-toggle.is-active .hamburger-inner {
            transform: rotate(45deg);
        }
        .mobile-toggle.is-active .hamburger-inner::before {
            top: 0;
            opacity: 0;
        }
        .mobile-toggle.is-active .hamburger-inner::after {
            bottom: 0;
            transform: rotate(-90deg);
        }

        /* --- LAYOUT --- */
        .container {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            width: 100%;
            flex: 1;
        }

        /* --- SIDEBAR --- */
        aside {
            width: var(--sidebar-width);
            padding: 2rem 1rem;
            border-right: 1px solid var(--border-color);
            position: sticky;
            top: var(--header-height);
            height: calc(100vh - var(--header-height));
            overflow-y: auto;
            background: #fff;
            flex-shrink: 0;
        }

        aside h3 {
            font-size: 0.85rem;
            text-transform: uppercase;
            color: var(--text-light);
            margin-bottom: 0.8rem;
            margin-top: 1.5rem;
            letter-spacing: 0.8px;
            font-weight: 700;
        }
        aside h3:first-child { margin-top: 0; }

        aside ul { list-style: none; }
        aside li { margin-bottom: 0.25rem; }

        aside a {
            text-decoration: none;
            color: var(--text-main);
            display: block;
            padding: 0.6rem 0.8rem;
            border-radius: 6px;
            font-size: 0.95rem;
            transition: all 0.2s ease;
            border-left: 3px solid transparent;
        }

        aside a:hover {
            background-color: #f1f8ff;
            color: var(--primary-blue);
            border-left-color: var(--primary-blue);
            transform: translateX(3px); /* Subtle slide */
        }

        /* --- MAIN CONTENT --- */
        main {
            flex: 1;
            padding: 2.5rem 4rem;
            max-width: calc(100% - var(--sidebar-width));
        }

        h1 { 
            font-size: 2.5rem; 
            margin-bottom: 1rem; 
            color: var(--text-main);
            letter-spacing: -0.5px;
            font-weight: 700;
        }
        
        section {
            margin-bottom: 3.5rem; 
            scroll-margin-top: 100px; 
        }

        h2 { 
            font-size: 1.8rem; 
            margin-top: 0; 
            margin-bottom: 1.2rem; 
            border-bottom: 1px solid var(--border-color); 
            padding-bottom: 0.5rem;
            color: var(--text-main);
            font-weight: 600;
        }

        h3 { font-size: 1.3rem; margin-top: 2rem; margin-bottom: 0.8rem; font-weight: 600; color: #24292e; }
        h4 { font-size: 1.1rem; margin-top: 1.5rem; margin-bottom: 0.5rem; font-weight: 600; color: #444; }
        p { margin-bottom: 1.2rem; color: #444; font-size: 1rem; }
        
        /* Inline Code */
        code {
            font-family: var(--font-mono);
            background-color: rgba(27,31,35,0.05);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            font-size: 85%;
            color: #24292e;
        }

        /* Code Blocks Wrapper - Fixing Mobile Scroll */
        .code-wrapper {
            position: relative;
            margin-bottom: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background-color: var(--code-bg);
        }

        pre {
            background-color: transparent;
            padding: 1.2rem;
            overflow-x: auto;
            margin: 0;
            border: none;
            border-radius: 8px;
        }
        
        pre code {
            background: none;
            padding: 0;
            font-size: 0.9rem;
            color: #24292e;
            display: block;
        }

        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 0.3rem 0.6rem;
            font-size: 0.75rem;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.2s ease;
            z-index: 5; /* Ensure above scrollbar */
            display: flex;
            align-items: center;
            gap: 5px;
            font-family: var(--font-main);
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }

        .copy-btn:hover {
            background-color: #f1f8ff;
            color: var(--primary-blue);
            border-color: var(--primary-blue);
        }

        /* Badges */
        .badges {
            display: flex;
            gap: 0.8rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .badges a {
            text-decoration: none;
            transition: transform 0.2s;
        }
        
        .badges a:hover { transform: scale(1.05); }
        .badges img { display: block; height: 24px; }

        /* Callout Box */
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 6px;
            margin-bottom: 1.5rem;
            border-left: 4px solid;
            background-color: #f1f8ff;
            border-color: var(--primary-blue);
            color: #24292e;
        }

        .alert-info strong { color: var(--primary-blue); }

        /* List Styles */
        ul, ol { padding-left: 1.5rem; margin-bottom: 1.5rem; color: #444; }
        li { margin-bottom: 0.5rem; }

        /* --- MOBILE RESPONSIVENESS --- */
        @media (max-width: 768px) {
            .header-content {
                justify-content: flex-start;
                gap: 1rem;
            }
            
            .mobile-toggle {
                display: block;
            }

            .container {
                flex-direction: column;
            }

            /* Animated Sidebar for Mobile */
            aside {
                position: fixed;
                top: var(--header-height);
                left: 0;
                width: 100%;
                height: calc(100vh - var(--header-height));
                z-index: 999;
                transform: translateX(-100%);
                border-right: none;
                border-bottom: 1px solid var(--border-color);
                padding: 1.5rem;
                transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
                box-shadow: none;
            }

            aside.open {
                transform: translateX(0);
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            }

            main {
                max-width: 100%;
                padding: 1.5rem;
            }

            .header-links {
                display: none; /* Hide desktop links on mobile */
            }

            h1 { font-size: 2rem; }
            h2 { font-size: 1.6rem; }
        }
    </style>
</head>
<body>

    <header>
        <div class="header-content">
            <!-- Mobile Menu Toggle -->
            <button class="mobile-toggle" id="menuToggle" aria-label="Toggle Menu">
                <span class="hamburger-box">
                    <span class="hamburger-inner"></span>
                </span>
            </button>

            <a href="#" class="logo" onclick="window.scrollTo(0,0)">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c3/Python-logo-notext.svg" alt="Python Logo">
                Githrun Docs
            </a>

            <!-- Desktop Links -->
            <div class="header-links">
                <a href="https://github.com/notamitgamer/githrun" class="btn btn-github" target="_blank">
                    <i class="fab fa-github"></i> GitHub
                </a>
                <a href="https://pypi.org/project/githrun/" class="btn btn-pypi" target="_blank">
                    <i class="fab fa-python"></i> PyPI
                </a>
            </div>
        </div>
    </header>

    <div class="container">
        <aside id="sidebar">
            <h3>Getting Started</h3>
            <ul>
                <li><a href="#overview" onclick="closeMenu()">Overview</a></li>
                <li><a href="#installation" onclick="closeMenu()">Installation</a></li>
                <li><a href="#quick-start" onclick="closeMenu()">Quick Start</a></li>
            </ul>

            <h3>Core Features</h3>
            <ul>
                <li><a href="#remote-execution" onclick="closeMenu()">Remote Execution</a></li>
                <li><a href="#tool-installation" onclick="closeMenu()">Tool Installation</a></li>
                <li><a href="#search-find" onclick="closeMenu()">Search & Find</a></li>
                <li><a href="#downloading" onclick="closeMenu()">Downloading</a></li>
            </ul>

            <h3>Advanced Usage</h3>
            <ul>
                <li><a href="#authentication" onclick="closeMenu()">Authentication</a></li>
                <li><a href="#bookmarks" onclick="closeMenu()">Bookmarks</a></li>
                <li><a href="#auto-deps" onclick="closeMenu()">Auto-Dependencies</a></li>
                <li><a href="#caching" onclick="closeMenu()">Smart Caching</a></li>
            </ul>

            <h3>Python Library</h3>
            <ul>
                <li><a href="#library-api" onclick="closeMenu()">API Reference</a></li>
            </ul>
            
            <h3>Project Info</h3>
            <ul>
                <li><a href="#configuration" onclick="closeMenu()">Configuration</a></li>
                <li><a href="#contributing" onclick="closeMenu()">Contributing</a></li>
                <li><a href="#license" onclick="closeMenu()">License</a></li>
            </ul>
        </aside>

        <main>
            <section id="overview">
                <h1>Githrun CLI</h1>
                <p><strong>The Swiss Army Knife for Remote Python Execution.</strong></p>
                
                <div class="badges">
                    <a href="https://pypi.org/project/githrun/" target="_blank">
                        <img src="https://img.shields.io/pypi/v/githrun?color=3775a9&label=pypi%20package&logo=python&logoColor=white" alt="PyPI Version">
                    </a>
                    <a href="https://github.com/notamitgamer/githrun" target="_blank">
                        <img src="https://img.shields.io/badge/GitHub-Repo-24292e?logo=github" alt="GitHub Repo">
                    </a>
                    <a href="https://pypi.org/project/githrun/" target="_blank">
                        <img src="https://pepy.tech/badge/githrun" alt="Total Downloads">
                    </a>
                    <a href="https://opensource.org/licenses/MIT" target="_blank">
                        <img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License">
                    </a>
                </div>

                <p>Githrun turns GitHub repositories into your personal script library. It allows you to execute remote scripts instantly, install them as local tools, or explore folder structures without the hassle of cloning entire repositories.</p>
                <p>Whether you need to run a quick maintenance script, install a utility from a gist, or explore a codebase interactively, Githrun handles the heavy lifting of fetching, dependency management, and caching.</p>
            </section>

            <section id="installation">
                <h2>Installation</h2>
                <p>Githrun is available on PyPI and can be installed via pip. It supports Python 3.9 and newer.</p>
                <pre><code>pip install githrun</code></pre>
                <div class="alert alert-info">
                    <strong>Tip:</strong> If you use <code>pipx</code>, you can install it globally to use the CLI anywhere: <code>pipx install githrun</code>.
                </div>
            </section>

            <section id="quick-start">
                <h2>Quick Start</h2>
                <p>Get up and running in seconds. Here are the most common commands.</p>
                
                <h3>1. Run a Remote Script</h3>
                <p>Execute a python file directly from a GitHub URL.</p>
                <pre><code>githrun run https://github.com/user/repo/blob/main/hello.py</code></pre>

                <h3>2. Search a Repository</h3>
                <p>Find files matching a query inside a remote repo.</p>
                <pre><code>githrun find https://github.com/user/repo "config"</code></pre>
            </section>

            <section id="remote-execution">
                <h2>Remote Execution</h2>
                <p>The <code>run</code> command is the core of Githrun. It fetches the raw content of a file and executes it locally.</p>
                
                <h4>Supported Sources</h4>
                <ul>
                    <li><strong>GitHub Repositories:</strong> Standard blob URLs.</li>
                    <li><strong>GitHub Gists:</strong> Direct Gist URLs.</li>
                </ul>

                <h4>Safety First: Inspection</h4>
                <p>Before running code from the internet, you should verify it. Use the <code>--inspect</code> flag to print the syntax-highlighted code to your terminal without executing it.</p>
                <pre><code>githrun run https://github.com/user/repo/blob/main/script.py --inspect</code></pre>
            </section>

            <section id="tool-installation">
                <h2>Tool Installation</h2>
                <p>Found a useful script? Turn it into a permanent command-line tool on your system using <code>install</code>.</p>
                <pre><code>githrun install https://github.com/user/repo/blob/main/utils.py --name my-util</code></pre>
                
                <p><strong>How it works:</strong></p>
                <ol>
                    <li>Downloads the script to <code>~/.githrun/bin/my-util.py</code>.</li>
                    <li>Creates an executable shim (<code>.bat</code> on Windows, shell script on Linux/Mac).</li>
                    <li>You add <code>~/.githrun/bin</code> to your system PATH.</li>
                    <li>You can now type <code>my-util</code> in any terminal window.</li>
                </ol>
            </section>

            <section id="search-find">
                <h2>Search & Find</h2>
                <p>Don't clone a 1GB repo just to find one file. The <code>find</code> command recursively searches the remote repository tree.</p>
                <pre><code>githrun find https://github.com/notamitgamer/adpkg "test"</code></pre>
                
                <p><strong>Interactive Mode:</strong> By default, this command displays a list of matches. You can type the number of a result to immediately execute that script.</p>
            </section>

            <section id="downloading">
                <h2>Downloading</h2>
                <p>Githrun can download individual files or recursively download entire directories.</p>

                <h4>Single File</h4>
                <pre><code>githrun download https://github.com/user/repo/blob/main/script.py</code></pre>

                <h4>Recursive Folder</h4>
                <p>If you provide a tree URL, Githrun detects it and downloads the full folder structure.</p>
                <pre><code>githrun download https://github.com/user/repo/tree/main/src --output ./local_src</code></pre>
            </section>

            <section id="authentication">
                <h2>Authentication</h2>
                <p>By default, GitHub allows 60 unauthenticated API requests per hour. To increase this limit to 5,000/hr and to access <strong>Private Repositories</strong>, you need to login.</p>
                <pre><code>githrun login ghp_YourPersonalAccessToken...</code></pre>
                <p>The token is stored locally in <code>~/.githrun/config.json</code> and is never sent anywhere except GitHub API endpoints.</p>
            </section>

            <section id="bookmarks">
                <h2>Bookmarks</h2>
                <p>Bookmarks allow you to alias long, complex GitHub URLs to short, memorable names.</p>

                <h4>Add a Bookmark</h4>
                <pre><code>githrun bookmark add clean-db https://github.com/user/repo/blob/main/scripts/maintenance/clean_database.py</code></pre>

                <h4>Run a Bookmark</h4>
                <pre><code>githrun run clean-db</code></pre>

                <h4>List Bookmarks</h4>
                <pre><code>githrun bookmark list</code></pre>
            </section>

            <section id="auto-deps">
                <h2>Auto-Dependencies</h2>
                <p>One of the biggest pain points of running remote scripts is missing dependencies (e.g., <code>ModuleNotFoundError: No module named 'requests'</code>).</p>
                <p>Githrun can solve this automatically:</p>
                <pre><code>githrun run https://gist.github.com/user/id --auto-install</code></pre>
                
                <p><strong>The Mechanics:</strong></p>
                <ol>
                    <li>Githrun scans the script for <code>import</code> statements.</li>
                    <li>It checks which packages are missing from your system.</li>
                    <li>It creates a <strong>temporary virtual environment</strong> in <code>/tmp</code>.</li>
                    <li>It installs the missing packages into that venv.</li>
                    <li>It executes the script using the venv's Python interpreter.</li>
                    <li>It cleans up (deletes) the venv after execution.</li>
                </ol>
            </section>

            <section id="caching">
                <h2>Smart Caching</h2>
                <p>To keep the tool snappy and respectful of API limits, Githrun caches API responses (like repository trees) locally for 10 minutes.</p>
                <p>This means if you run <code>githrun find</code> on a large repo multiple times, the subsequent runs will be instant and won't consume your GitHub API quota.</p>
            </section>

            <section id="library-api">
                <h2>Python Library API</h2>
                <p>Githrun exposes its core logic as a Python library, allowing you to build your own tools on top of it.</p>
                
                <h4>Usage inside a Python Source File</h4>
                <p>You can import <code>githrun</code> in your own scripts (e.g., <code>main.py</code>) to automate remote execution or file fetching.</p>
                
                <pre><code># main.py
import githrun

# 1. Search a repository for config files
print("Searching for config files...")
results = githrun.search_repository("https://github.com/user/repo", "config")
for item in results:
    print(f"Found: {item['path']}")

# 2. Download a specific utility script
print("\nDownloading utility...")
githrun.download_file(
    "https://github.com/user/repo/blob/main/utils.py", 
    output_path="local_utils.py"
)

# 3. Execute a remote setup script immediately
print("\nRunning setup...")
# This runs the script securely and returns the exit code
exit_code = githrun.execute_remote_code("https://github.com/user/repo/blob/main/setup.py")

if exit_code == 0:
    print("Setup completed successfully!")
else:
    print("Setup failed.")</code></pre>

                <h4>Available Functions</h4>
                <ul>
                    <li><code>execute_remote_code(url, args=[], auto_install=False)</code></li>
                    <li><code>download_file(url, output_path=None)</code></li>
                    <li><code>download_folder(url, output_dir=None)</code></li>
                    <li><code>search_repository(repo_url, query)</code></li>
                    <li><code>get_folder_contents(url)</code></li>
                </ul>
            </section>

            <section id="configuration">
                <h2>Configuration</h2>
                <p>Githrun stores all its data in your home directory under <code>.githrun</code>.</p>
                <ul>
                    <li><strong>Windows:</strong> <code>C:\Users\Username\.githrun\</code></li>
                    <li><strong>Linux/Mac:</strong> <code>~/.githrun/</code></li>
                </ul>

                <h4>File Structure</h4>
                <ul>
                    <li><code>config.json</code>: Stores your API key and bookmarks.</li>
                    <li><code>cache/</code>: Stores JSON responses from GitHub API (expiring).</li>
                    <li><code>bin/</code>: Stores scripts installed via <code>githrun install</code>.</li>
                </ul>
            </section>

            <section id="contributing">
                <h2>Contributing</h2>
                <p>We welcome contributions from the community! Whether it's a bug fix, new feature, or documentation improvement.</p>
                <ol>
                    <li>Fork the repository on GitHub.</li>
                    <li>Clone your fork.</li>
                    <li>Create a virtual environment and install dependencies.</li>
                    <li>Create a branch for your feature.</li>
                    <li>Submit a Pull Request.</li>
                </ol>
            </section>

            <section id="license">
                <h2>License</h2>
                <p>Githrun is open-source software licensed under the <strong><a href="https://github.com/notamitgamer/githrun/blob/main/LICENSE">MIT License</a></strong>.</p>
                <p>&copy; 2026 <a href="https://amit.is-a.dev" target="_blank" style="text-decoration: none; color: inherit;"><b><u>Amit Dutta</u></b></a> (<a href="https://github.com/notamitgamer" target="_blank" style="text-decoration: none; color: inherit;"><b><u>notamitgamer</u></b></a>).</p>
            </section>
        </main>
    </div>

    <script>
        // --- MOBILE MENU LOGIC ---
        const toggleBtn = document.getElementById('menuToggle');
        const sidebar = document.getElementById('sidebar');

        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('open');
            toggleBtn.classList.toggle('is-active');
        });

        // Function to close menu on link click
        function closeMenu() {
            if (window.innerWidth <= 768) {
                sidebar.classList.remove('open');
                toggleBtn.classList.remove('is-active');
            }
        }

        // --- COPY TO CLIPBOARD ---
        document.addEventListener('DOMContentLoaded', () => {
            // Select all pre elements that contain code
            const preBlocks = document.querySelectorAll('pre');
            
            preBlocks.forEach(pre => {
                // 1. Create wrapper div
                const wrapper = document.createElement('div');
                wrapper.className = 'code-wrapper';
                
                // 2. Insert wrapper before pre
                pre.parentNode.insertBefore(wrapper, pre);
                
                // 3. Move pre into wrapper
                wrapper.appendChild(pre);
                
                // 4. Create copy button
                const btn = document.createElement('button');
                btn.className = 'copy-btn';
                btn.innerHTML = '<i class="far fa-copy"></i> Copy';
                
                // 5. Add event listener
                btn.addEventListener('click', () => {
                    const code = pre.querySelector('code').innerText;
                    navigator.clipboard.writeText(code).then(() => {
                        btn.innerHTML = '<i class="fas fa-check"></i> Copied!';
                        btn.style.color = '#28a745';
                        btn.style.borderColor = '#28a745';
                        
                        setTimeout(() => {
                            btn.innerHTML = '<i class="far fa-copy"></i> Copy';
                            btn.style.color = '';
                            btn.style.borderColor = '';
                        }, 2000);
                    });
                });
                
                // 6. Append button to wrapper (sibling to pre)
                wrapper.appendChild(btn);
            });
        });
    </script>

</body>
</html>